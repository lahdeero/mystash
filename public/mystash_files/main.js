(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(2),r=n.n(a),c=n(4),o=n(29),u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.register(e);case 2:return a=t.sent,t.next=5,o.a.getUser();case 5:return c=t.sent,window.localStorage.setItem("MS_token",a.token),n({type:"REGISTER",data:c}),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},i=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getUser();case 2:n=e.sent,t({type:"LOGIN",data:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.login(e);case 2:return a=t.sent,window.localStorage.setItem("MS_token",a.token),t.next=6,o.a.getUser();case 6:c=t.sent,n({type:"LOGIN",data:c});case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT",data:null});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":case"LOGIN":return t.data;case"LOGOUT":return null;default:return e}}},282:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(64),o=n.n(c),u=n(34),i=n(89),s=n(14),l=n(73),m=n(2),p=n.n(m),f=n(4),d=n(6),h=n(48),v=n(49),E=n.n(v),b=(n(69),n(88)),g=n(3),O=n(45),w=function(e){return r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("input",{onChange:e.filter.onChange,value:e.filter.value}))},j=function(e){return r.a.createElement("div",{onClick:function(){return function(e){e.filter.setFilter(""),e.history.push("/")}(e)}},"mystash v. ","0.25")},y=Object(b.a)(Object(s.b)(null)((function(e){return r.a.createElement("div",null,r.a.createElement(g.Navbar,{className:"indigo",brand:j(e),href:"#!",right:!0},r.a.createElement(O.IndexLinkContainer,{to:"/"},r.a.createElement(g.NavItem,{eventkey:1,onClick:function(){return e.filter.setFilter("")}},r.a.createElement(g.Icon,null,"view_list"))),r.a.createElement(O.IndexLinkContainer,{to:"/create"},r.a.createElement(g.NavItem,{eventkey:2},r.a.createElement(g.Icon,null,"note_add"))),r.a.createElement(O.IndexLinkContainer,{to:"/settings"},r.a.createElement(g.NavItem,{eventkey:3},r.a.createElement(g.Icon,null,"settings"))),r.a.createElement(O.IndexLinkContainer,{to:"/logout"},r.a.createElement(g.NavItem,{onClick:e.handleLogout},r.a.createElement(g.Icon,null,"logout")))),r.a.createElement(w,{filter:e.filter}))}))),x=n(93),k=n(41),C=n(40),I=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(""),i=Object(d.a)(u,2),s=i[0],l=i[1],m=Object(a.useState)(""),h=Object(d.a)(m,2),E=h[0],b=h[1],O=Object(a.useState)(!1),w=Object(d.a)(O,2),j=w[0],y=w[1],I=Object(a.useState)(!1),S=Object(d.a)(I,2),N=S[0],T=S[1],R=function(){var t=Object(f.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,T(!0),t.next=5,e.actionForLogin({username:c,password:s});case 5:t.next=13;break;case 7:t.prev=7,t.t0=t.catch(1),T(!1),b("Bad credentials"),console.log(t.t0),setTimeout((function(){b("")}),5e3);case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y(!j);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();if(j)return r.a.createElement("div",null,r.a.createElement(x.a,{init:e.init}));var D=v.stringify({client_id:"bbb7a9d3a5bb7895e06e",redirect_uri:"http://ec2-13-48-99-203.eu-north-1.compute.amazonaws.com:8080/api/login/github/callback",scope:["read:user","user:email"].join(" "),allow_signup:!0}),A=Object(C.a)(),M="".concat(A,"/api/login/github?").concat(D);return r.a.createElement("div",null,r.a.createElement(g.Navbar,{className:"indigo",brand:"mystash",href:"/mystash-frontend",right:!0}),r.a.createElement("div",{className:"container centered"},r.a.createElement("div",null,r.a.createElement("a",{href:M},"Login with GitHub")),r.a.createElement(k.ClipLoader,{loading:N,color:"blue"}),""!==E?r.a.createElement("div",{className:"error"},E):r.a.createElement("div",null),r.a.createElement("form",{onSubmit:R},r.a.createElement("div",null,"username:",r.a.createElement(g.Input,{type:"text",name:"username",autoComplete:"off",value:c,onChange:function(e){return o(e.target.value)}},r.a.createElement(g.Icon,null,"account_circle"))),r.a.createElement("div",null,"password:",r.a.createElement(g.Input,{type:"password",name:"password",autoComplete:"off",value:s,onChange:function(e){return l(e.target.value)}},r.a.createElement(g.Icon,null,"https"))),r.a.createElement(g.Button,{type:"submit"},"Login")),r.a.createElement("div",null,r.a.createElement("br",null),"Dont have account? ",r.a.createElement("a",{onClick:L,href:"/register"},"Register here"))))},S=n(44),N=function(e){var t=e.note;if(void 0===t||void 0===t.id)return r.a.createElement("div",null);var n=t.tags;void 0===n&&(n=["EI TAGIA","HUOM"]);var a=t.content.length<=150?t.content:t.content.substring(0,150)+"...";return r.a.createElement("div",{className:"card-panel deep-purple lighten-4"},r.a.createElement(g.Row,null,r.a.createElement(g.Col,null,r.a.createElement(S.a,{to:"/notes/".concat(t.id)}," ",r.a.createElement("span",{s:12,className:"blue-text text-darken-2"},t.title," ")," ")),r.a.createElement(g.Col,null,n.join(",").split(",").map((function(t){return r.a.createElement(g.Chip,{key:t,onClick:function(){var n;n={tag:t},e.filter.setFilter(n.tag)}}," ",t," ")})))),r.a.createElement("div",null,a.split("\n").map((function(e,t){return r.a.createElement("span",{key:t}," ",e," ",r.a.createElement("br",null)," ")}))))},T=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],o=n[1],u=e.sort,i=e.setSort,s=function(e){i(e),o(!1)},l="light-blue accent-1";return r.a.createElement("div",null,r.a.createElement(g.Button,{className:l,onClick:function(e){e.preventDefault(),o(!c)}},"Sort"),c?r.a.createElement("div",{className:"menu"},r.a.createElement(g.Button,{className:l,onClick:function(){s("ALPHABETIC"===u?"!ALPHABETIC":"ALPHABETIC")}},"Alphabetic"),r.a.createElement(g.Button,{className:l,onClick:function(){s("CREATED"===u?"!CREATED":"CREATED")}},"Created"),r.a.createElement(g.Button,{className:l,onClick:function(){s("MODIFIED"===u?"!MODIFIED":"MODIFIED")}},"Modified")):r.a.createElement("div",null))},R=function(e){var t=e.itemsLenght,n=e.page,a=e.handleSelect,c=e.sort,o=e.setSort;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s2"},r.a.createElement(T,{sort:c,setSort:o})),r.a.createElement("div",{className:"col s6"},r.a.createElement(g.Pagination,{items:t,activePage:n,maxButtons:10,onSelect:a})))},L=function(e){var t=Object(a.useState)(1),n=Object(d.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(10),i=Object(d.a)(u,1)[0],s=Object(a.useState)("MODIFIED"),l=Object(d.a)(s,2),m=l[0],h=l[1],v=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&null===t){e.next=2;break}return e.abrupt("return",o(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t,n){return e<t?n?-1:1:e>t?n?1:-1:0},b=function(e,t){return e||t?!t||e>t?-1:!e||e<t?1:0:0},g=function(e,t){if(t&&void 0!==t)try{var n=e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})),a=e.filter((function(e){return e.tags.join(" ").toLowerCase().includes(t.toLowerCase())}));return Array.from(new Set(n.concat(a)))}catch(r){console.log(r)}return e}(e.notes.sort((function(e,t){switch(m){case"ALPHABETIC":return E(e.title.toLowerCase().trim(),t.title.toLowerCase().trim(),!0);case"!ALPHABETIC":return E(e.title.toLowerCase().trim(),t.title.toLowerCase().trim(),!1);case"MODIFIED":return b(e.modified_date,t.modified_date);case"!MODIFIED":return b(t.modified_date,e.modified_date);case"!CREATED":return e.id-t.id;default:return t.id-e.id}})),e.filter.value),O=g.slice((c-1)*i,(c-1)*i+i);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center"},r.a.createElement(k.ClipLoader,{loading:e.loading,color:"blue"}),r.a.createElement(R,{itemsLenght:Math.ceil(g.length/i),page:c,handleSelect:v,sort:m,setSort:h})),r.a.createElement("ul",null,O.map((function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("div",null,r.a.createElement(N,{note:t,Key:t.id,filter:e.filter})))}))),r.a.createElement("div",{className:"center"},r.a.createElement(R,{itemsLenght:Math.ceil(g.length/i),page:c,handleSelect:v,sort:m,setSort:h})))},D=n(23),A=n(24),M=n(26),F=n(25),B=n(27),_=n(94),G=n.n(_),H=n(19),U=n.n(H),P=n(30),W=Object(C.a)()+"/api/notes/directory",z={getAll:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get(W+"/all",Object(P.a)());case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get(W+"/note/"+t,Object(P.a)());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.post(W,t,Object(P.a)());case 2:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),modify:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,console.log("noteObject:",t),e.next=4,U.a.put(W+"/note/"+n,t,Object(P.a)());case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),erase:function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.delete("".concat(W,"/note/").concat(t),Object(P.a)());case 2:return n=e.sent,console.log("response "+n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},Y=n(95),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE":return[t.data].concat(Object(Y.a)(e.slice(0,e.length)));case"MODIFY":return e.map((function(e){return e.id===t.data.id?t.data:e}));case"REMOVE":return e.filter((function(e){return e.id!==t.data}));case"INIT_NOTES":return t.data;case"CLEAR":return[];default:return e}},V=function(e,t){return function(){var n=Object(f.a)(p.a.mark((function n(a){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"NOTIFY",data:e}),setTimeout((function(){a({type:"HIDE_NOTIFICATION"})}),1e3*t);case 2:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},K=function(e,t){return function(){var n=Object(f.a)(p.a.mark((function n(a){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"ERROR",data:e}),setTimeout((function(){a({type:"HIDE_ERROR"})}),1e3*t);case 2:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":case"ERROR":return[e=t.data,t.data];case"HIDE_NOTIFICATION":case"HIDE_ERROR":return e="";default:return e}},Q=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(M.a)(this,Object(F.a)(t).call(this,e))).deleteNote=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!window.confirm("Are you sure you want to delete '".concat(n.state.title,"' ?"))){e.next=6;break}return e.next=4,n.props.removeNote(n.state.id);case 4:"number"===typeof e.sent&&(n.props.notify("you deleted '".concat(n.state.title,"'"),10),n.props.history.push("/"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.state={id:"",title:"",content:"",tags:[]},n}return Object(B.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getOne(this.props.match.params.id);case 3:t=e.sent,this.setState({id:t.id,title:t.title,content:t.content,tags:t.tags}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.errormessage("Couldn't find note '".concat(this.props.match.params.id,"'"),5),this.props.history.push("/");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.tags.join(),t=this.state.content,n=e.includes("markdown");return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,this.state.title),r.a.createElement("p",null,"[",e,"]"),n&&r.a.createElement(G.a,{source:t}),!n&&r.a.createElement("div",null,t.split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))}))),r.a.createElement("div",null,r.a.createElement(S.a,{to:"/notes/edit/".concat(this.state.id,"'")},r.a.createElement(g.Button,{className:"deep orange"},"EDIT"),"\xa0"),r.a.createElement(g.Button,{className:"red accent-2",onClick:this.deleteNote},"DELETE")))}}]),t}(r.a.Component),X={removeNote:function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.erase(e);case 2:return a=t.sent,n({type:"REMOVE",data:a}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},notify:V,errormessage:K},Z=Object(s.b)(null,X)(Q),$=n(52),ee=n(53),te=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(M.a)(this,Object(F.a)(t).call(this,e))).handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,{id:n.state.id,title:n.state.title,content:n.state.content,tags:n.state.tags};case 4:return a=e.sent,e.next=7,n.props.modifyNote(a);case 7:return e.next=9,n.props.notify("you modified '".concat(a.title,"'"),10);case 9:n.props.history.push("/"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),n.props.errormessage("ERROR WHILE EDITING NOTE",10);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.state.isMounted&&n.setState(Object($.a)({},e.target.name,e.target.value))},n.handleContent=function(e){n.setState({content:e.target.value})},n.addTag=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,4;case 3:if(a=e.sent,0!==n.state.tagText.length&&!n.state.tags.includes(n.state.tagText)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.state.tags;case 8:return r=e.sent,e.next=11,r.push(n.state.tagText);case 11:if(!(r.length>a)){e.next=15;break}n.props.notify("Maxium number of tags is '".concat(a,"'"),10),e.next=23;break;case 15:return e.prev=15,e.next=18,n.setState({tags:r,tagText:""});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),n.props.errormessage("ERROR WHILE ADDING TAG",10);case 23:case"end":return e.stop()}}),e,this,[[15,20]])})));return function(t){return e.apply(this,arguments)}}(),n.state={isMounted:!1,tagText:"",id:"",title:"",content:"",tags:[]},n}return Object(B.a)(t,e),Object(A.a)(t,[{key:"componentWillMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getOne(this.props.match.params.id);case 2:t=e.sent;try{this.setState({id:t.id,title:t.title,content:t.content,tags:t.tags.filter((function(e){return null!==e}))})}catch(n){this.props.errormessage("Couldn't find note '".concat(this.props.match.params.id,"'"),5),this.props.history.push("/")}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isMounted:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isMounted:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeTag",value:function(e){this.setState({tags:this.state.tags.filter((function(t){return t!==e}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("h3",null,"Note tags\xa0"),r.a.createElement(g.Button,{className:"indigo",position:"right",delay:"50",tooltip:"Click tag name to remove"},"[?]")),r.a.createElement("div",null,r.a.createElement(g.Row,null,r.a.createElement(g.Col,{s:12},this.state.tags.map((function(t){return r.a.createElement(g.Chip,{key:t,onClick:function(){e.removeTag(t)}}," ",t," ")}))))),r.a.createElement("div",null,r.a.createElement("form",{id:"tagform",onSubmit:this.addTag},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{name:"tagText",value:this.state.tagText,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement(g.Button,{className:"deep orange",type:"submit",form:"tagform"},"Add tag"))),r.a.createElement("h2",null,"Edit note"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,"Title",r.a.createElement("br",null),r.a.createElement("input",{name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Content",r.a.createElement("br",null),r.a.createElement(ee.a,{className:"note-edit",value:this.state.content,onChange:this.handleContent,minRows:10}))),r.a.createElement("br",null),r.a.createElement(g.Button,{waves:"light",className:"red accent-2",type:"submit"},"Save")))}}]),t}(r.a.Component),ne={modifyNote:function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.modify(e);case 2:return t.next=4,z.getOne(e.id);case 4:return a=t.sent,t.next=7,n({type:"MODIFY",data:a});case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},notify:V,errormessage:K},ae=Object(s.b)(null,ne)(te),re=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(M.a)(this,Object(F.a)(t).call(this,e))).handleChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.handleContent=function(e){n.setState({content:e.target.value})},n.addTag=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),10,!(n.state.tags.length>=10)){e.next=5;break}return n.props.notify("Maxium number of tags is '".concat(10,"'"),10),e.abrupt("return");case 5:if(0!==n.state.tagText.length&&!n.state.tags.includes(n.state.tagText)){e.next=7;break}return e.abrupt("return");case 7:return(a=n.state.tags).push(n.state.tagText),e.prev=9,e.next=12,n.setState({tags:a,tagText:""});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),n.props.errormessage("ERROR WHILE ADDING TAG",10);case 17:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==n.state.tags&&0!==n.state.tags.length||!(n.state.tagText.length>0)){e.next=5;break}return a=n.state.tagText.split(";"),e.next=5,n.setState({tags:a});case 5:return e.prev=5,e.next=8,{title:n.state.title,content:n.state.content,tags:n.state.tags};case 8:return r=e.sent,e.next=11,n.props.createNote(r);case 11:c=e.sent,n.props.notify("you created '".concat(c.title,"'"),10),n.setState({title:"",content:"",tag_id:""}),n.props.history.push("/"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0),n.props.errormessage("ERROR WHILE ADDING NOTE",10);case 21:case"end":return e.stop()}}),e,this,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),n.state={isMounted:!1,tagText:"",title:"",content:"",tags:[]},n}return Object(B.a)(t,e),Object(A.a)(t,[{key:"removeTag",value:function(e){this.setState({tags:this.state.tags.filter((function(t){return t!==e}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create new note"),r.a.createElement("form",{id:"noteform",onSubmit:this.handleSubmit},r.a.createElement("div",null,"Title",r.a.createElement("br",null),r.a.createElement("input",{name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Content",r.a.createElement("br",null),r.a.createElement(ee.a,{className:"note-edit",value:this.state.content,onChange:this.handleContent,minRows:10}))),r.a.createElement("br",null)),r.a.createElement("div",null,this.state.tags.map((function(t){return r.a.createElement(g.Button,{key:t,onClick:function(){e.removeTag(t)}}," ",t," ")}))),r.a.createElement("form",{id:"tagform",onSubmit:this.addTag},r.a.createElement(g.Button,{className:"deep orange",type:"submit",form:"tagform"},"Add tag"),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{name:"tagText",value:this.state.tagText,onChange:this.handleChange}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(g.Button,{form:"noteform",className:"red accent-2",type:"submit"},"Create")))}}]),t}(r.a.Component),ce={createNote:function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.create(e);case 2:return a=t.sent,t.next=5,z.getOne(a.id);case 5:return r=t.sent,n({type:"CREATE",data:r}),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},notify:V,errormessage:K},oe=Object(b.a)(Object(s.b)(null,ce)(re)),ue=n(29),ie=function(){var e=Object(a.useState)("Loading..."),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),i=u[0],s=u[1],l=Object(a.useState)(""),m=Object(d.a)(l,2),p=m[0],f=m[1],h=Object(a.useState)(""),v=Object(d.a)(h,2),E=v[0],b=v[1];return Object(a.useEffect)((function(){ue.a.getUser().then((function(e){c(e.username),s(e.realname),f(e.tier),b(e.email)}))})),r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(g.Row,null,"version ".concat("0.25")),r.a.createElement(g.Row,null,r.a.createElement(g.Col,{s:12,m:5},r.a.createElement(g.CardPanel,{className:"red accent-2 black-text"},r.a.createElement("span",null,"Currently can't change your information"))),r.a.createElement(g.Col,{s:12,m:7},r.a.createElement(g.CardPanel,{className:"blue lighten-3 black-text"},r.a.createElement(g.Row,null,r.a.createElement(g.Col,null,"Username: "),r.a.createElement(g.Col,null,n)),r.a.createElement(g.Row,null,r.a.createElement(g.Col,null,"Name: "),r.a.createElement(g.Col,null,i)),r.a.createElement(g.Row,null,r.a.createElement(g.Col,null,"Level: "),r.a.createElement(g.Col,null,p)),r.a.createElement(g.Row,null,r.a.createElement(g.Col,null,"Email: "),r.a.createElement(g.Col,null,E)))))))},se=function(e){function t(){return Object(D.a)(this,t),Object(M.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props.notification[0];return void 0===e||e.length<=1||"object"===typeof e?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("strong",null,e))}}]),t}(r.a.Component),le=Object(s.b)((function(e){return{notification:e.notification}}))(se),me=n(21),pe=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1];return{value:n,onChange:function(e){r(e.target.value)},setFilter:function(e){r(e)}}},fe={noteInitialization:function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getAll();case 2:n=e.sent,t({type:"INIT_NOTES",data:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},setLogin:me.e,actionForLogin:me.a,actionForLogout:me.b,clearNotes:function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR",data:[]});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},notify:V},de=Object(s.b)((function(e){return{notes:e.notes,user:e.user}}),fe)((function(e){var t=pe(),n=Object(a.useState)(!1),c=Object(d.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(!0),s=Object(d.a)(i,2),m=s[0],v=s[1];Object(a.useEffect)((function(){var e=E.a.parse(window.location.search);e.token&&window.localStorage.setItem("MS_token",e.token);var t=window.localStorage.getItem("MS_token");!o&&t&&(u(!0),b())}),[e.user]);var b=function(){var t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),t.next=4,e.noteInitialization();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.notify(t.t0);case 9:return t.prev=9,v(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return o?r.a.createElement("div",null,r.a.createElement(le,null),r.a.createElement(l.a,{basename:"/mystash-frontend"},r.a.createElement("div",null,r.a.createElement(y,{filter:t,handleLogout:function(n){n.preventDefault(),window.localStorage.removeItem("MS_token"),t.setFilter(""),e.clearNotes(),e.actionForLogout(),u(!1)}}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(L,{notes:e.notes,filter:t,loading:m})}}),r.a.createElement(h.a,{path:"/login",render:function(){return r.a.createElement(I,null)}}),r.a.createElement(h.a,{path:"/create",render:function(){return r.a.createElement(oe,null)}}),r.a.createElement(h.a,{path:"/settings",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(h.a,{exact:!0,path:"/notes/:id",component:Z}),r.a.createElement(h.a,{exact:!0,path:"/notes/edit/:id",component:ae})))):r.a.createElement("div",null,r.a.createElement(I,{actionForLogin:e.actionForLogin,init:b}))})),he=Object(u.c)({user:me.d,notes:J,notification:q}),ve=Object(u.d)(he,Object(u.a)(i.a));o.a.render(r.a.createElement(l.a,null,r.a.createElement(s.a,{store:ve},r.a.createElement(de,null))),document.getElementById("root"))},29:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(4),o=n(19),u=n.n(o),i=n(40),s=n(30),l=Object(i.a)()+"/api/",m=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(l+"user",Object(s.a)());case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"user",t);case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();t.a={getUser:m,register:p,login:f}},30:function(e,t,n){"use strict";t.a=function(){return{headers:{Authorization:"Bearer ".concat("undefined"!==typeof window?window.localStorage.getItem("MS_token"):"")}}}},40:function(e,t,n){"use strict";function a(){var e=window.location.host;console.log("host = ",e);return"localhost:3000"===e?"http://Localhost:8080":"http://ec2-13-48-99-203.eu-north-1.compute.amazonaws.com:8080"}n.d(t,"a",(function(){return a}))},69:function(e,t,n){},93:function(e,t,n){"use strict";(function(e){var a=n(2),r=n.n(a),c=n(4),o=n(6),u=n(0),i=n(14),s=n(3),l=n(21),m=n(41),p={actionForRegister:l.c,setLogin:l.e};t.a=Object(i.b)((function(e){return{notes:e.notes,user:e.user}}),p)((function(t){var n=Object(u.useState)(""),a=Object(o.a)(n,2),i=a[0],l=a[1],p=Object(u.useState)(""),f=Object(o.a)(p,2),d=f[0],h=f[1],v=Object(u.useState)(""),E=Object(o.a)(v,2),b=E[0],g=E[1],O=Object(u.useState)(""),w=Object(o.a)(O,2),j=w[0],y=w[1],x=Object(u.useState)(""),k=Object(o.a)(x,2),C=k[0],I=k[1],S=Object(u.useState)(""),N=Object(o.a)(S,2),T=N[0],R=N[1],L=Object(u.useState)(!1),D=Object(o.a)(L,2),A=D[0],M=D[1],F=function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),M(!0),e.prev=2,e.next=5,t.actionForRegister({realname:i+" "+d,username:b,password:j,email:C});case 5:t.init(),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(2),M(!1),console.log(e.t0),R("Username not available"),setTimeout((function(){R("")}),5e3);case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return e.createElement("div",null,e.createElement(s.Navbar,{className:"indigo",brand:"mystash",href:"/mystash-frontend",right:!0}),e.createElement("div",{className:"container"},e.createElement(m.ClipLoader,{loading:A,color:"blue"}),e.createElement("div",null,T&&e.createElement("div",{className:"error"},T),e.createElement("form",{onSubmit:F},e.createElement(s.Row,null,e.createElement(s.Input,{onChange:function(e){return l(e.target.value)},name:"firstname",label:"First Name"},e.createElement(s.Icon,null,"accessibility")),e.createElement(s.Input,{onChange:function(e){return h(e.target.value)},name:"lastname",s:6,label:"Last name"},e.createElement(s.Icon,null,"accessibility_new")),e.createElement(s.Input,{onChange:function(e){return g(e.target.value)},name:"username",s:12,label:"Username(*)"},e.createElement(s.Icon,null,"account_circle")),e.createElement(s.Input,{onChange:function(e){return y(e.target.value)},name:"password",type:"password",label:"Password(*)",s:12},e.createElement(s.Icon,null,"https")),e.createElement(s.Input,{onChange:function(e){return I(e.target.value)},name:"email",type:"email",label:"Email",s:12},e.createElement(s.Icon,null,"email"))),e.createElement(s.Button,{type:"submit"},"Register"))),e.createElement("br",null),e.createElement("br",null),"Back to ",e.createElement("a",{onClick:t.handleRegisterRedirect,href:"/mystash-frontend"},"login")))}))}).call(this,n(0))},96:function(e,t,n){e.exports=n(282)}},[[96,1,2]]]);
//# sourceMappingURL=main.edb041da.chunk.js.map